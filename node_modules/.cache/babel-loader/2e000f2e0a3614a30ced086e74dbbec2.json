{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shehry\\\\Desktop\\\\Khana Shana\\\\src\\\\components\\\\OrderQ.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './OrderMng.css';\nimport OrderMngNav from './OrderMngNav.jsx';\nimport OrderMngTable from './OrderMngTable.jsx';\nimport CompletedOrders from './CompletedOrders.jsx';\nimport OrderHistory from './OrderHistory.jsx';\nimport ReactBootstrap, { Nav, Button, Navbar, NavDropdown, Table } from 'react-bootstrap';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport firebase_integration from '../Fire.js';\n\nfunction OrderQ() {\n  const [myData, setData] = useState([]);\n  const [myArr, setArr] = useState([]);\n  useEffect(() => {\n    // var todaysdate = new Date()\n    // ADD DATE FILTER\n    firebase_integration.database.collection(\"RegularOrder\").where(\"Tracking\", \"in\", ['Pending', 'None', 'Cancelled', 'Preparing']).onSnapshot(snapshot => {\n      var order_arr = [];\n      snapshot.docs.forEach(doc => {\n        order_arr.push(doc.data());\n      });\n      setData(order_arr);\n    });\n  }, myData);\n\n  const prepared = idd => {\n    setData(myData.filter(user => user.order_id != idd));\n  };\n\n  const returnAction = user => {\n    if (user.Action === \"Accept/Reject\") {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        onClick: () => firebase_integration.updateOrderQueueAction(user.OrderID, \"Accept\"),\n        className: \"bg-green pointer grow ba bw1 ma1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 10\n        }\n      }, \"Accept\"), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: firebase_integration.updateOrderQueueAction(user.OrderID, \"Reject\"),\n        className: \"bg-red pointer grow ba bw1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 6\n        }\n      }, \"Reject\"));\n    } else if (user.Action === \"Accept\") {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bg-green\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 10\n        }\n      }, \"Accepted\"));\n    } else {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bg-red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 10\n        }\n      }, \"Rejected\"));\n    }\n  };\n\n  const returnPrepare = user => {\n    if (user.Tracking === \"Cancelled\") {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bg-yellow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 10\n        }\n      }, \"Cancelled\"));\n    }\n\n    if (user.Action === \"Accept/Reject\") {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 10\n        }\n      }, \"Waiting for Action\"));\n    } else if (user.Action === \"Accept\" && user.Tracking === \"Pending\") {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bg-gray pointer grow ba bw1 ma1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 10\n        }\n      }, \"Prepare\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bg-light-silver pointer grow ba bw1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 74\n        }\n      }, \"Done\"));\n    } else if (user.Tracking === \"Preparing\") {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bg-gray 6rem\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 10\n        }\n      }, \"Preparing\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bg-light-silver pointer grow ba bw1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 57\n        }\n      }, \"Done\"));\n    } else return /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, \"-\"));\n  };\n\n  const renderTable = () => {\n    return myData.map(user => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 12\n        }\n      }, user.Date.toDate().getDate() + \"-\" + (user.Date.toDate().getMonth() + 1) + \"-\" + user.Date.toDate().getFullYear()), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 12\n        }\n      }, user.OrderID), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 12\n        }\n      }, user.CustomerID), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 12\n        }\n      }, user.Address), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 12\n        }\n      }, user.DishName.toString()), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 12\n        }\n      }, user.DishQuantity.toString()), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 12\n        }\n      }, user.Subtotal), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 12\n        }\n      }, user.OrderType), returnAction(user), returnPrepare(user));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    responsive: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"bg-light-silver tc \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"DATE\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, \"ORDER ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"CUST_ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, \"ADDRESS\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"DELIVERY ITEMS\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, \"QTY\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, \"TOTAL(PKR)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"ORDER TYPE\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, \"ACTION\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, \"ORDER TRACKING\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, console.log(\"Doosra\", myData), renderTable())));\n} // class OrderMng extends Component{\n// \trender(){\n// \t}\n// }\n\n\nexport default OrderQ;","map":{"version":3,"sources":["C:/Users/Shehry/Desktop/Khana Shana/src/components/OrderQ.jsx"],"names":["React","useState","useEffect","OrderMngNav","OrderMngTable","CompletedOrders","OrderHistory","ReactBootstrap","Nav","Button","Navbar","NavDropdown","Table","BrowserRouter","Router","Switch","Route","firebase_integration","OrderQ","myData","setData","myArr","setArr","database","collection","where","onSnapshot","snapshot","order_arr","docs","forEach","doc","push","data","prepared","idd","filter","user","order_id","returnAction","Action","updateOrderQueueAction","OrderID","returnPrepare","Tracking","renderTable","map","Date","toDate","getDate","getMonth","getFullYear","CustomerID","Address","DishName","toString","DishQuantity","Subtotal","OrderType","console","log"],"mappings":"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","sourcesContent":["import React , { useState, useEffect } from 'react';\r\nimport './OrderMng.css';\r\nimport OrderMngNav from './OrderMngNav.jsx';\r\nimport OrderMngTable from './OrderMngTable.jsx'\r\nimport CompletedOrders from './CompletedOrders.jsx'\r\nimport OrderHistory from './OrderHistory.jsx'\r\nimport ReactBootstrap, {Nav, Button, Navbar,NavDropdown,Table} from 'react-bootstrap';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport firebase_integration from '../Fire.js'\r\n\r\nfunction OrderQ() {\r\n\r\n\t\tconst [myData,setData] = useState([]);\r\n\t\tconst [myArr,setArr] = useState([]);\r\n\t\tuseEffect(()=>{\r\n\t\t\t// var todaysdate = new Date()\r\n\t\t\t// ADD DATE FILTER\r\n\t\t\tfirebase_integration.database.collection(\"RegularOrder\").where(\"Tracking\", \"in\", ['Pending', 'None', 'Cancelled', 'Preparing']).onSnapshot((snapshot) => {\r\n\t\t\t\tvar order_arr = []\r\n\t\t\t\tsnapshot.docs.forEach(doc => {\r\n\t\t\t\torder_arr.push(doc.data())\r\n\t\t\t});\r\n\t\t\t\tsetData(order_arr)\r\n\t\t\t})\r\n\t\t},myData);\r\n\r\n\r\n\t\tconst prepared = (idd) => {\r\n\t\t\tsetData(myData.filter(user=>user.order_id!=idd))\r\n\t\t}\r\n\t\t\r\n\t\tconst returnAction=(user)=>{\r\n\t\t\tif (user.Action === \"Accept/Reject\"){\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<td><span onClick={()=>firebase_integration.updateOrderQueueAction(user.OrderID,\"Accept\")} className=\"bg-green pointer grow ba bw1 ma1\">Accept</span>\r\n\t\t\t\t\t<span onClick={firebase_integration.updateOrderQueueAction(user.OrderID,\"Reject\")} className=\"bg-red pointer grow ba bw1\">Reject</span></td>\r\n\t\t\t\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if (user.Action===\"Accept\"){\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<td><span className=\"bg-green\">Accepted</span></td>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<td><span className=\"bg-red\">Rejected</span></td>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst returnPrepare=(user)=>{\r\n\r\n\t\t\tif (user.Tracking === \"Cancelled\"){\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<td><span className=\"bg-yellow\">Cancelled</span></td>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif (user.Action === \"Accept/Reject\"){\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<td><p>Waiting for Action</p></td>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(user.Action === \"Accept\" && user.Tracking === \"Pending\"){\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<td><span className=\"bg-gray pointer grow ba bw1 ma1\">Prepare</span><span className=\"bg-light-silver pointer grow ba bw1\">Done</span></td>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(user.Tracking === \"Preparing\"){\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<td><span className=\"bg-gray 6rem\">Preparing</span><span className=\"bg-light-silver pointer grow ba bw1\">Done</span></td>\r\n\t     \t\t);\r\n\t\t\t}\r\n\t\t\telse return(\r\n\t\t\t\t<td><span>-</span></td>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\r\n\t\tconst renderTable = () => {\r\n\t    return myData.map(user => {\r\n\t      return (\r\n\t        <tr>\r\n\t          <td>{user.Date.toDate().getDate()+\"-\"+(user.Date.toDate().getMonth()+1)+\"-\"+user.Date.toDate().getFullYear()}</td>\r\n\t          <td>{user.OrderID}</td>\r\n\t          <td>{user.CustomerID}</td>\r\n\t          <td>{user.Address}</td>\r\n\t          <td>{user.DishName.toString()}</td>\r\n\t          <td>{user.DishQuantity.toString()}</td>\r\n\t          <td>{user.Subtotal}</td>\r\n\t          <td>{user.OrderType}</td>\r\n\t          {returnAction(user)}\r\n\t          {returnPrepare(user)}\r\n\t        </tr>\r\n\t      )\r\n\t    })\r\n\t  }\r\n\t\t\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<Table responsive>\r\n\t\t\t\t  <thead>\r\n\t\t\t\t    <tr className=\"bg-light-silver tc \">\r\n\t\t\t\t      <th>DATE</th>\r\n\t\t\t\t      <th>ORDER ID</th>\r\n\t\t\t\t      <th>CUST_ID</th> \r\n\t\t\t\t      <th>ADDRESS</th>\r\n\t\t\t\t      <th>DELIVERY ITEMS</th> \t\r\n\t\t\t\t      <th>QTY</th>\r\n\t\t\t\t      <th>TOTAL(PKR)</th>\r\n\t\t\t\t      <th>ORDER TYPE</th>\r\n\t\t\t\t      <th>ACTION</th>\r\n\t\t\t\t      <th>ORDER TRACKING</th>\r\n\t\t\t\t    </tr>\r\n\t\t\t\t  </thead>\r\n\t\t\t\t  <tbody>\r\n\t\t\t\t\t  {console.log(\"Doosra\",myData)}\r\n\t\t\t\t\r\n\t\t\t\t\t\t{renderTable()}\r\n\t\t\t\t  \t\r\n\t\t\t\t  </tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t\r\n}\r\n\r\n// class OrderMng extends Component{\r\n// \trender(){\r\n// \t}\r\n// }\r\n\r\n\r\nexport default OrderQ;"]},"metadata":{},"sourceType":"module"}